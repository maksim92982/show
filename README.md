# Bakery Site (static HTML)

Это **статический** сайт (GitHub / Vercel). Он включает простой редактор контента в браузере:

- блоки идут **сверху вниз** одной колонкой
- в админ-режиме есть кнопки **“+”** (добавить блок между блоками)
- блоки бывают: **текст / фото / текст+фото**
- для блока можно настроить **выравнивание** (лево/центр/право)
- для текста можно включить **жирный / курсив / подчёркнутый**
- фон **всего сайта** и **каждого блока**: цвет / градиент / картинка
- можно выделять **соседние** блоки (чекбоксами) и объединять их в **таблицу** (cols×rows)

## Важное ограничение (без backend)

На чистом статическом хостинге сайт **не может сам “публиковать” изменения на сервер**.

Поэтому работает так:
- админ редактирует → изменения сохраняются **локально в браузере** (localStorage)
- чтобы “опубликовать” для всех: в админ-панели нажать **“Скачать content.json”**
- затем файл `content.json` нужно **закоммитить в репозиторий** (GitHub) — после этого Vercel/Pages обновит сайт

## Опубликовать прямо из админки (через Vercel API) — вариант без ручного git

В проекте есть serverless endpoint `POST /api/publish`, который:
- берёт `content.json` из браузера
- **загружает картинки** (data URL) в репозиторий как файлы `assets/uploads/*`
- обновляет `content.json`, заменяя base64 на пути вида `/assets/uploads/...`
- делает commit в ветку (по умолчанию `main`)

Это **безопаснее**, чем держать токен в браузере: GitHub токен хранится в **Vercel Environment Variables**.

### Настройка Vercel Environment Variables

На Vercel → Project → Settings → Environment Variables добавьте:

- `GITHUB_TOKEN` — fine-grained PAT (Contents: Read/Write) для репозитория
- `GITHUB_OWNER` — владелец (username или org)
- `GITHUB_REPO` — имя репозитория
- `GITHUB_BRANCH` — (опционально) ветка, например `main`

После добавления переменных сделайте Redeploy.

### Как пользоваться

В админ-панели нажмите **“Опубликовать в GitHub”**.

## Как открыть локально

Проще всего через любой статический сервер.

Например, Python:

```bash
python -m http.server 8000 --bind 127.0.0.1
```

Потом открыть в браузере `http://127.0.0.1:8000/`.

## Файлы

- `index.html` — разметка
- `styles.css` — стили
- `app.js` — логика редактора/рендера
- `content.json` — “опубликованный” контент (то, что увидят пользователи без localStorage)

## Примечание про фото

Фото сохраняются как **base64 (data URL)** внутри JSON. Это удобно для прототипа, но большие изображения раздувают `content.json`.
Для продакшена лучше хранить картинки отдельными файлами в репозитории и ссылаться на них путями.

# Away Timer (local)

Этот проект **не имитирует ввод** и не пытается менять статусы в мессенджерах.
Он просто помогает зафиксировать, **сколько времени вы отсутствовали**: раз в минуту пишет строку в файл `away-log.txt`.

## Live log (generated)

Ниже блок, который обновляется скриптом (только между маркерами).

<!-- away-timer:start -->
@python (13-82)
```text
START 2025-12-29 14:10:17
0001 2025-12-29 14:10:17
0002 2025-12-29 14:11:17
0003 2025-12-29 14:12:17
0004 2025-12-29 14:13:17
0005 2025-12-29 14:14:17
0006 2025-12-29 14:15:17
0007 2025-12-29 14:16:17
0008 2025-12-29 14:17:17
0009 2025-12-29 14:18:17
0010 2025-12-29 14:19:17
0011 2025-12-29 14:20:17
0012 2025-12-29 14:21:17
0013 2025-12-29 14:22:17
0014 2025-12-29 14:23:17
0015 2025-12-29 14:24:17
0016 2025-12-29 14:25:17
0017 2025-12-29 14:26:17
0018 2025-12-29 14:27:17
0019 2025-12-29 14:28:17
0020 2025-12-29 14:29:17
0021 2025-12-29 14:30:17
0022 2025-12-29 14:31:17
0023 2025-12-29 14:32:17
0024 2025-12-29 14:33:17
0025 2025-12-29 14:34:17
0026 2025-12-29 14:35:17
0027 2025-12-29 14:36:17
0028 2025-12-29 14:37:17
0029 2025-12-29 14:38:17
0030 2025-12-29 14:39:17
0031 2025-12-29 14:40:17
0032 2025-12-29 14:41:17
0033 2025-12-29 14:42:17
0034 2025-12-29 14:43:17
0035 2025-12-29 14:44:17
0036 2025-12-29 14:45:17
0037 2025-12-29 14:46:17
0038 2025-12-29 14:47:17
0039 2025-12-29 14:48:17
0040 2025-12-29 14:49:17
0041 2025-12-29 14:50:17
0042 2025-12-29 14:51:17
0043 2025-12-29 14:52:17
0044 2025-12-29 14:53:17
0045 2025-12-29 14:54:17
0046 2025-12-29 14:55:17
0047 2025-12-29 14:56:17
0048 2025-12-29 14:57:17
0049 2025-12-29 14:58:17
0050 2025-12-29 14:59:17
0051 2025-12-29 15:00:17
0052 2025-12-29 15:01:17
0053 2025-12-29 15:02:17
0054 2025-12-29 15:03:17
0055 2025-12-29 15:04:17
0056 2025-12-29 15:05:17
0057 2025-12-29 15:06:17
0058 2025-12-29 15:07:17
0059 2025-12-29 15:08:17
0060 2025-12-29 15:09:17
0061 2025-12-29 15:10:17
0062 2025-12-29 15:11:17
0063 2025-12-29 15:12:17
0064 2025-12-29 15:13:17
0065 2025-12-29 15:14:17
0066 2025-12-29 15:15:17
0067 2025-12-29 15:16:17
0068 2025-12-29 15:17:17
END   2025-12-29 15:18:16 (minutes=67)
```
<!-- away-timer:end -->

## Запуск (Python 3.10+)

```bash
python away_timer.py
```

Остановить: `Ctrl+C`.

## Результат

- Файл лога: `away-log.txt` (в корне проекта)
- В каждой строке: номер минуты + текущее локальное время


